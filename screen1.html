<!DOCTYPE html>
<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Foundation 4</title>

  <link rel="stylesheet" href="css/foundation.css" />
  <link rel="stylesheet" href="css/main.css" />

  <script type="text/javascript" src="//use.typekit.net/xuo4ojj.js"></script>
  <script src="http://www.parsecdn.com/js/parse-1.2.8.min.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  <script src="js/vendor/custom.modernizr.js"></script>
  <script type='application/javascript' src='/vendor/fastclick.js'></script>

  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">

</head>

<body>

  <header>
    <div class="row">
      <div class="large-8 large-centered columns text-center">
        <h2>Involved</h2>
      </div>
    </div>
  </header>

  <div class="row question">
    <div class="large-8 large-centered columns text-center">
      <h6>Question:</h6>
      <h3>Hey Michael and Tom, do we have really bad UX? </h3>
      <!--<h4><span class="timer">30s remaining</span></h4>-->
    </div>
  </div>

  <form class="answers">
    <div class="row">
      <div class="large-8 large-centered columns">
        <input type="checkbox" id="answer-1" name="answer" value="1">
        <button class="button large" data-for="answer-1">Answer one</button>
      </div>
    </div>
    <div class="row">
      <div class="large-8 large-centered columns">
        <input type="checkbox" id="answer-2" name="answer" value="2">
        <button class="button large" data-for="answer-2">Answer number two goes here</button>
      </div>
    </div>
    <div class="row">
      <div class="large-8 large-centered columns">
        <input type="checkbox" id="answer-3" name="answer" value="3">
        <button class="button large" data-for="answer-3">I am an answer</button>
      </div>
    </div>
    <div class="row">
      <div class="large-8 large-centered columns">
        <input type="checkbox" id="answer-4" name="answer" value="4">
        <button class="button large" data-for="answer-4">This is another answer to a question</button>
      </div>
    </div>
  </form>

  <script>
    document.write('<script src=' +
                   ('__proto__' in {} ? 'js/vendor/zepto' : 'js/vendor/jquery') +
                   '.js><\/script>')
  </script>

  <script src="js/foundation.min.js"></script>
  <!--

  <script src="js/foundation/foundation.js"></script>

  <script src="js/foundation/foundation.alerts.js"></script>

  <script src="js/foundation/foundation.clearing.js"></script>

  <script src="js/foundation/foundation.cookie.js"></script>

  <script src="js/foundation/foundation.dropdown.js"></script>

  <script src="js/foundation/foundation.forms.js"></script>

  <script src="js/foundation/foundation.joyride.js"></script>

  <script src="js/foundation/foundation.magellan.js"></script>

  <script src="js/foundation/foundation.orbit.js"></script>

  <script src="js/foundation/foundation.reveal.js"></script>

  <script src="js/foundation/foundation.section.js"></script>

  <script src="js/foundation/foundation.tooltips.js"></script>

  <script src="js/foundation/foundation.topbar.js"></script>

  <script src="js/foundation/foundation.interchange.js"></script>

  <script src="js/foundation/foundation.placeholder.js"></script>

  -->

  <script>
    $(document).foundation();
    Parse.initialize("EeEFArcfnsV0d1uVCJ4K5j6y86se3cyKP5bEigcm", "TuWtuZ7iXYxkxOar3vwlVFq2jOpkHTPRilxSjllC");
    $('#add_answer').click(function() {
      $('#answers').append($('.answer_template').html());
    });
    var Quiz = Parse.Object.extend("Quiz");
    $('#save_quiz').click(function(){
      var question = $('#quiz_question').val()
      var answers = new Array;
      $('.answer_field .an_answer').each(function(index,item) {
          answers.push($(item).val());
      });
      var quiz = new Quiz();
      quiz.save({
        question: question,
        answers: answers,

      }, {
        success: function(quiz) {
          console.log('goodness me')
          // The object was saved successfully.
        },
        error: function(quiz, error) {
          // The save failed.
          // error is a Parse.Error with an error code and description.
        }
      });
    })
    //Querying
    var quizes = new Parse.Query(Quiz);
    quizes.each(function(quiz){console.log(quiz.get('question'))})
  </script>

  <script type="text/javascript">
    $(function(){
      $(".answers button.large").click(function(e){
        var for_id = $(this).data("for");
        if ($(this).hasClass("selected")) {
          $("#" + for_id).prop('checked', false); 
          $(this).removeClass("selected");
        } else {
          $("#" + for_id).prop('checked', true); 
          $(this).addClass("selected");
        }
        e.preventDefault();
      });
    });
  </script>

</body>
</html>
